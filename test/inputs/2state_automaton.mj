main (clk) = o where
  front_edge = clk & not(pre(clk));
  down_edge = not(clk) & pre(clk);
  automaton
    St1 -> do o = 0 until down_edge then St2
  | St2 -> do o = 1 until front_edge then St1
  end
end where
